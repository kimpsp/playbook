<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ö–≤–µ—Å—Ç: –õ–∞–±–∏—Ä–∏–Ω—Ç</title>
  <style>
    body {
      background-color: #000;
      color: #eee;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      text-align: center;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 20px;
      color: #f44336;
    }

    #story {
      max-width: 600px;
      width: 100%;
      padding: 20px;
      background-color: #1e1e1e;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.05);
      margin-bottom: 30px;
      animation: fadeIn 1s ease-in-out;
    }

    #choices button {
      display: block;
      width: 100%;
      max-width: 300px;
      margin: 10px auto;
      padding: 12px;
      font-size: 1em;
      background-color: #2196F3;
      border: none;
      color: white;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    #choices button:hover {
      background-color: #1976D2;
    }

    .back-button {
      position: absolute;
      top: 20px;
      left: 20px;
      background-color: #444;
      padding: 10px 15px;
      border-radius: 6px;
      color: white;
      text-decoration: none;
      font-size: 0.9em;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <!-- –°—Å—ã–ª–∫–∞ "–ù–∞–∑–∞–¥" -->
  <a href="index.html" class="back-button">‚Üê –ù–∞–∑–∞–¥</a>

  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <h1>–õ–∞–±–∏—Ä–∏–Ω—Ç</h1>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –∫–≤–µ—Å—Ç–∞ -->
  <div id="story">
    <p id="narration">
      –í—ã –æ—á–Ω—É–ª–∏—Å—å –≤ –ø–æ–ª–Ω–æ–π —Ç–µ–º–Ω–æ—Ç–µ. –†—É–∫–∞ –æ—â—É–ø—ã–≤–∞–µ—Ç —Å—Ç–µ–Ω—É —Å–ø—Ä–∞–≤–∞.<br/>
      –í –≥–æ–ª–æ–≤–µ —à–µ–ø—á–µ—Ç –≥–æ–ª–æ—Å:<br/>
      ¬´–î–µ—Ä–∂–∏—Å—å –æ–¥–Ω–æ–π —Ä—É–∫–∏... –ù–µ –æ—Ç–ø—É—Å–∫–∞–π —Å—Ç–µ–Ω—É...¬ª<br/><br/>
      –ß—Ç–æ –≤—ã –¥–µ–ª–∞–µ—Ç–µ?
    </p>
    <div id="choices">
      <button onclick="makeChoice('forward')">–ò–¥—Ç–∏ –ø—Ä—è–º–æ</button>
      <button onclick="makeChoice('right')">–ü–æ–≤–µ—Ä–Ω—É—Ç—å –Ω–∞–ø—Ä–∞–≤–æ</button>
      <button onclick="makeChoice('left')">–ü–æ–≤–µ—Ä–Ω—É—Ç—å –Ω–∞–ª–µ–≤–æ</button>
    </div>
  </div>

  <script>
    // –û–±—ä–µ–∫—Ç –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ —Å —Ç–æ—á–∫–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∞–≤–æ–π —Ä—É–∫–∏
    const maze = {
      start: {
        forward: null,
        right: 'a1',
        left: null
      },
      a1: {
        forward: null,
        right: 'a2',
        left: 'trap1'
      },
      a2: {
        forward: 'b1',
        right: 'exit',
        left: null
      },
      b1: {
        forward: null,
        right: 'trap2',
        left: 'a2'
      }
    };

    let currentPosition = 'start';

    function makeChoice(direction) {
      const nextStep = maze[currentPosition][direction];

      if (!nextStep) {
        showNarration("–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–π—Ç–∏ –≤ —ç—Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ ‚Äî –∑–¥–µ—Å—å –Ω–µ—Ç –≤—ã—Ö–æ–¥–∞.", true);
        return;
      }

      if (nextStep === 'trap1') {
        showNarration("–í—ã –Ω–∞—Ä—É—à–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–æ‚Ä¶ –ü–æ–ª —É—Ö–æ–¥–∏—Ç –∏–∑-–ø–æ–¥ –Ω–æ–≥...\n\n‚ò†Ô∏è –ö–æ–Ω–µ—Ü –∏–≥—Ä—ã.", false, true);
        disableButtons();
        return;

      } else if (nextStep === 'trap2') {
        showNarration("–í—ã —Å–Ω–æ–≤–∞ –ø–æ–≤–µ—Ä–Ω—É–ª–∏ –Ω–∞–ª–µ–≤–æ –±–µ–∑ —Å—Ç–µ–Ω—ã —Ä—è–¥–æ–º...\n\nüíÄ –ì–¥–µ-—Ç–æ —á—Ç–æ-—Ç–æ —Ä—É—à–∏—Ç—Å—è...", false, true);
        disableButtons();
        return;

      } else if (nextStep === 'exit') {
        showNarration("–í—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –ø—Ä–æ—Ö–ª–∞–¥—É —Å–≤–µ–∂–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞... –≠—Ç–æ –≤—ã—Ö–æ–¥!\n\nüéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –≤—ã–±—Ä–∞–ª–∏—Å—å –∏–∑ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞!", false, true);
        disableButtons();
        return;
      }

      // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–π —Ç–æ—á–∫–µ
      currentPosition = nextStep;

      switch (currentPosition) {
        case 'a1':
          showNarration("–í—ã –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ –¥–≤–∏–≥–∞–µ—Ç–µ—Å—å –≤–ø–µ—Ä—ë–¥. –°–ø—Ä–∞–≤–∞ ‚Äî —Å—Ç–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥ –≤–∞–º–∏ —Ä–∞–∑–≤–∏–ª–∫–∞.\n\n–ß—Ç–æ –¥–µ–ª–∞—Ç—å?", true);
          break;
        case 'a2':
          showNarration("–í—ã –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç–µ –Ω–∞–ø—Ä–∞–≤–æ. –°—Ç–µ–Ω–∞ –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä—è–¥–æ–º. –î–∞–ª—å—à–µ –∫–æ—Ä–∏–¥–æ—Ä —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è.\n\n–í—ã–±–∏—Ä–∞–π—Ç–µ –ø—É—Ç—å.", true);
          break;
        case 'b1':
          showNarration("–í—ã –∑–∞—Ö–æ–¥–∏—Ç–µ –≤ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–π –∑–∞–ª. –°–ª–µ–≤–∞ ‚Äî —Å—Ç–µ–Ω–∞. –°–ø—Ä–∞–≤–∞ ‚Äî —á—Ç–æ-—Ç–æ —Ç–µ–º–Ω–æ–µ...\n\n–ë—É–¥–µ—Ç–µ –ª–∏ –≤—ã –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å?", true);
          break;
      }
    }

    function showNarration(text, enableChoices = true, gameOver = false) {
      document.getElementById("narration").innerText = text;
      const choicesDiv = document.getElementById("choices");
      if (!enableChoices || gameOver) {
        choicesDiv.innerHTML = '';
        if (gameOver) {
          choicesDiv.innerHTML = '<button onclick="location.reload()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>';
        }
      }
    }

    function disableButtons() {
      const buttons = document.querySelectorAll('#choices button');
      buttons.forEach(btn => btn.disabled = true);
    }
  </script>

</body>
</html>
