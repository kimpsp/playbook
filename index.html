<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ö–≤–µ—Å—Ç Book</title>
  <style>
    /* –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∏–ª—å */
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #121212;
      color: #eee;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header {
      background-color: #1f1f1f;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #333;
    }

    header h1 {
      margin: 0;
      font-size: 1.5em;
      color: #f44336;
    }

    nav a {
      color: #bbb;
      text-decoration: none;
      margin-left: 15px;
    }

    nav a:hover {
      color: white;
    }

    .audio-controls {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .audio-controls input[type=range] {
      width: 100px;
    }

    main {
      flex: 1;
      padding: 40px 20px;
      max-width: 900px;
      margin: 0 auto;
      text-align: center;
    }

    h2 {
      font-size: 2em;
      margin-bottom: 30px;
      color: #2196F3;
    }

    h3 {
      font-size: 1.5em;
      margin-top: 40px;
      color: #999;
    }

    .quests {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }

    .quest-card {
      background-color: #1e1e1e;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #333;
      transition: transform 0.2s ease;
    }

    .quest-card:hover {
      transform: scale(1.03);
    }

    .quest-title {
      font-size: 1.2em;
      margin-bottom: 10px;
      color: #fff;
    }

    .quest-status {
      font-size: 0.9em;
      color: #888;
    }

    .quest-card button {
      margin-top: 10px;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      background-color: #2196F3;
      color: white;
      cursor: pointer;
    }

    .quest-card button:hover {
      background-color: #1976D2;
    }

    .quest-card.disabled {
      filter: grayscale(1);
      opacity: 0.5;
      transform: scale(0.95);
    }

    .quest-card.disabled button {
      background-color: #444;
      cursor: not-allowed;
    }

    footer {
      background-color: #1f1f1f;
      padding: 20px 30px;
      border-top: 1px solid #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
    }

    .footer-links a {
      color: #bbb;
      text-decoration: none;
      margin-right: 15px;
    }

    .footer-links a:hover {
      color: white;
    }

    .back-to-top {
      cursor: pointer;
      background-color: #2196F3;
      border: none;
      padding: 10px 15px;
      color: white;
      border-radius: 5px;
      font-weight: bold;
    }

    .back-to-top:hover {
      background-color: #1976D2;
    }

    hr {
      margin: 60px 0;
      border: 1px solid #333;
    }
  </style>
</head>
<body>

  <!-- –®–ê–ü–ö–ê -->
  <header>
    <h1>–ö–≤–µ—Å—Ç Book</h1>
    
    <!-- –ú–µ–Ω—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–æ–π -->
    <div style="display: flex; align-items: center; gap: 20px;">
      <nav>
        <a href="#quests">–ö–≤–µ—Å—Ç—ã</a>
        <a href="#contact">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
      </nav>

      <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º—É–∑—ã–∫–æ–π -->
      <div class="audio-controls">
        <button onclick="toggleMusic()">üéµ</button>
        <input type="range" min="0" max="1" step="0.01" value="0.5" onchange="setVolume(this.value)"/>
      </div>
    </div>
  </header>

  <!-- –û–°–ù–û–í–ù–û–ï –°–û–î–ï–†–ñ–ò–ú–û–ï -->
  <main>
    <h2>–í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—É—Ç—å</h2>

    <!-- –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã -->
    <div class="quests" id="quests"></div>

    <hr>

    <!-- –ê—Ä—Ö–∏–≤ –∫–≤–µ—Å—Ç–æ–≤ -->
    <h3>üì¶ –ê—Ä—Ö–∏–≤</h3>
    <div class="quests" id="archive"></div>
  </main>

  <!-- –ü–û–î–í–ê–õ -->
  <footer id="contact">
    <div class="footer-contact">
      Email: none | Telegram: @_none_bot
    </div>
    <div class="footer-links">
      <a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
      <a href="#">–ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
      <a href="#">–û –ø—Ä–æ–µ–∫—Ç–µ</a>
    </div>
    <button class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">‚Üë –ù–∞–≤–µ—Ä—Ö</button>
  </footer>

  <!-- –ê–£–î–ò–û –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å -->
  <audio id="bg-music" src="music.mp3" loop></audio>

  <!-- –°–ö–†–ò–ü–¢–´ -->
  <script>
    // –ó–∞–≥—Ä—É–∑–∫–∞ JSON —Å –∫–≤–µ—Å—Ç–∞–º–∏ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
    fetch('quests.json')
      .then(response => response.json())
      .then(data => {
        const questsContainer = document.getElementById('quests');
        const archiveContainer = document.getElementById('archive');

        data.quests.forEach(quest => {
          const card = document.createElement('div');
          card.className = 'quest-card' + (quest.disabled ? ' disabled' : '');

          card.innerHTML = `
            <div class="quest-title">${quest.title}</div>
            <div class="quest-status">${quest.status}</div>
            <button ${quest.disabled ? 'disabled' : ''} onclick="startQuest('${quest.file}')">
              ${quest.disabled ? '–ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω' : '–ù–∞—á–∞—Ç—å'}
            </button>
          `;

          if (quest.disabled) {
            archiveContainer.appendChild(card);
          } else {
            questsContainer.appendChild(card);
          }
        });
      })
      .catch(err => console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–≤–µ—Å—Ç–æ–≤:', err));

    // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∫–≤–µ—Å—Ç—É –ø–æ —Ñ–∞–π–ª—É
    function startQuest(jsonFile) {
      window.location.href = `quest.html?quest=${jsonFile}`;
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–æ–π
    const music = document.getElementById('bg-music');
    let isPlaying = false;

    function toggleMusic() {
      if (!isPlaying) {
        music.play().catch(e => console.log("–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –±—Ä–∞—É–∑–µ—Ä–æ–º"));
      } else {
        music.pause();
      }
      isPlaying = !isPlaying;
    }

    function setVolume(value) {
      music.volume = parseFloat(value); // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≥—Ä–æ–º–∫–æ—Å—Ç—å
    }
  </script>
</body>
</html>
